{"ast":null,"code":"import _objectSpread from\"C:/Users/naoki/OneDrive/\\u30C7\\u30B9\\u30AF\\u30C8\\u30C3\\u30D7/budget_web_app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Plus,Trash2,Users,DollarSign,TrendingUp,TrendingDown,Calendar,Receipt,Home,Lock,X,Edit,LogIn,CalendarDays,Shield,UserCheck,UserX}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MONTHLY_FEE=5000;const storage={get:key=>{try{const data=localStorage.getItem(key);return data?JSON.parse(data):null;}catch(e){return null;}},set:(key,value)=>{try{localStorage.setItem(key,JSON.stringify(value));return true;}catch(e){return false;}}};export default function ClubBudgetManager(){const[isAdmin,setIsAdmin]=useState(false);const[showLogin,setShowLogin]=useState(false);const[pwd,setPwd]=useState('');const[page,setPage]=useState('home');const[members,setMembers]=useState([]);const[transactions,setTransactions]=useState([]);const[payments,setPayments]=useState({});const[newName,setNewName]=useState('');const[newTx,setNewTx]=useState({type:'expense',amount:'',category:'',description:'',date:(()=>{const now=new Date();// 日本時間の年月日を取得\nconst jstYear=now.getFullYear();const jstMonth=String(now.getMonth()+1).padStart(2,'0');const jstDay=String(now.getDate()).padStart(2,'0');return\"\".concat(jstYear,\"-\").concat(jstMonth,\"-\").concat(jstDay);})()});const[year,setYear]=useState(new Date().getFullYear());const[homeYear,setHomeYear]=useState(()=>{const now=new Date();const month=now.getMonth()+1;// 4月-12月は当年、1月-3月は前年を年度として返す\nreturn month>=4?now.getFullYear():now.getFullYear()-1;});const[showPay,setShowPay]=useState(false);const[selPay,setSelPay]=useState(null);const[payDate,setPayDate]=useState(()=>{const now=new Date();// 日本時間の年月日を取得\nconst jstYear=now.getFullYear();const jstMonth=String(now.getMonth()+1).padStart(2,'0');const jstDay=String(now.getDate()).padStart(2,'0');return\"\".concat(jstYear,\"-\").concat(jstMonth,\"-\").concat(jstDay);});const[editing,setEditing]=useState(false);const[calendarYear,setCalendarYear]=useState(new Date().getFullYear());const[calendarMonth,setCalendarMonth]=useState(new Date().getMonth()+1);const[selectedDate,setSelectedDate]=useState(null);const[showCalendarDetail,setShowCalendarDetail]=useState(false);const[showAdminManagement,setShowAdminManagement]=useState(false);const[currentUser,setCurrentUser]=useState(null);const[showPasswordChange,setShowPasswordChange]=useState(false);const[newPassword,setNewPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[isFirstLogin,setIsFirstLogin]=useState(false);const months=['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月'];useEffect(()=>{const m=storage.get('members');const t=storage.get('transactions');const p=storage.get('payments');if(m)setMembers(m);if(t)setTransactions(t);if(p)setPayments(p);},[]);const login=()=>{if(pwd===(storage.get('pwd')||'club2025')){const member=members.find(m=>m.isAdmin);setCurrentUser(member||{id:'admin',name:'管理者',isAdmin:true});setIsAdmin(true);setShowLogin(false);setPwd('');// 初回ログイン判定（初期パスワードの場合）\nconst currentPwd=storage.get('pwd');if(!currentPwd||pwd==='club2025'){setIsFirstLogin(true);setShowPasswordChange(true);}}else{alert('パスワードが違います');}};const addMember=()=>{if(!isAdmin)return;if(!newName.trim())return;const updated=[...members,{id:Date.now(),name:newName,isAdmin:false}];setMembers(updated);storage.set('members',updated);setNewName('');};const delMember=id=>{if(!isAdmin)return;const updated=members.filter(m=>m.id!==id);setMembers(updated);storage.set('members',updated);};const toggleAdminRights=memberId=>{if(!isAdmin||!currentUser)return;// 自分自身の権限は剥奪できない\nif(memberId===currentUser.id){alert('自分自身の管理者権限は剥奪できません');return;}const updated=members.map(m=>{if(m.id===memberId){return _objectSpread(_objectSpread({},m),{},{isAdmin:!m.isAdmin});}return m;});setMembers(updated);storage.set('members',updated);const targetMember=updated.find(m=>m.id===memberId);alert(\"\".concat(targetMember.name,\"\\u306E\\u7BA1\\u7406\\u8005\\u6A29\\u9650\\u3092\").concat(targetMember.isAdmin?'付与':'剥奪',\"\\u3057\\u307E\\u3057\\u305F\"));};const logout=()=>{setIsAdmin(false);setCurrentUser(null);setShowAdminManagement(false);setShowPasswordChange(false);};const changePassword=()=>{if(!newPassword.trim()){alert('新しいパスワードを入力してください');return;}if(newPassword.length<4){alert('パスワードは4文字以上で入力してください');return;}if(newPassword!==confirmPassword){alert('確認用パスワードが一致しません');return;}// パスワードを保存\nstorage.set('pwd',newPassword);setNewPassword('');setConfirmPassword('');setShowPasswordChange(false);setIsFirstLogin(false);alert('パスワードを変更しました');};const cancelPasswordChange=()=>{if(isFirstLogin){// 初回ログインの場合はログアウト\nlogout();}else{// それ以外の場合はキャンセル\nsetNewPassword('');setConfirmPassword('');setShowPasswordChange(false);}};const handlePayClick=(mid,y,m)=>{if(!isAdmin)return;const key=\"\".concat(mid,\"-\").concat(y,\"-\").concat(m);const pay=payments[key];const mem=members.find(m=>m.id===mid);setSelPay({mid,y,m,key,name:mem===null||mem===void 0?void 0:mem.name,existing:pay});// 新規支払いの場合は常に日本時間の当日、既存支払いの場合は保存された日付\nif(pay){setPayDate(pay.date.split('T')[0]);}else{const now=new Date();// 日本時間の年月日を取得\nconst jstYear=now.getFullYear();const jstMonth=String(now.getMonth()+1).padStart(2,'0');const jstDay=String(now.getDate()).padStart(2,'0');setPayDate(\"\".concat(jstYear,\"-\").concat(jstMonth,\"-\").concat(jstDay));}setEditing(!pay);setShowPay(true);};const savePay=()=>{if(!isAdmin||!selPay)return;const{mid,y,m,key,name}=selPay;const newPay=_objectSpread(_objectSpread({},payments),{},{[key]:{mid,y,m,date:new Date(payDate).toISOString(),by:'管理者',at:new Date().toISOString()}});setPayments(newPay);storage.set('payments',newPay);const exists=transactions.find(t=>t.mid===mid&&t.y===y&&t.m===m&&t.cat==='部費');if(!exists){const newTxs=[{id:Date.now(),type:'income',amount:MONTHLY_FEE,cat:'部費',desc:\"\".concat(name,\" - \").concat(y,\"\\u5E74\\u5EA6\").concat(months[m-1],\"\\u5206\"),date:payDate,mid,y,m},...transactions];setTransactions(newTxs);storage.set('transactions',newTxs);}setShowPay(false);setSelPay(null);};const delPay=()=>{if(!isAdmin||!selPay||!window.confirm('削除しますか？'))return;const{mid,y,m,key}=selPay;const newPay=_objectSpread({},payments);delete newPay[key];setPayments(newPay);storage.set('payments',newPay);const newTxs=transactions.filter(t=>!(t.mid===mid&&t.y===y&&t.m===m&&t.cat==='部費'));setTransactions(newTxs);storage.set('transactions',newTxs);setShowPay(false);setSelPay(null);};const addTx=()=>{if(!isAdmin)return;if(!newTx.amount||!newTx.category){alert('金額とカテゴリを入力してください');return;}const tx={id:Date.now(),type:newTx.type,amount:parseFloat(newTx.amount),cat:newTx.category,desc:newTx.description,date:newTx.date};const updated=[tx,...transactions];setTransactions(updated);storage.set('transactions',updated);setNewTx({type:'expense',amount:'',category:'',description:'',date:new Date().toISOString().split('T')[0]});};const delTx=id=>{if(!isAdmin)return;const tx=transactions.find(t=>t.id===id);if(tx&&tx.cat==='部費'){alert('部費は支払い管理画面から削除してください');return;}const updated=transactions.filter(t=>t.id!==id);setTransactions(updated);storage.set('transactions',updated);};const balance=transactions.reduce((s,t)=>s+(t.type==='income'?t.amount:-t.amount),0);const income=transactions.filter(t=>t.type==='income').reduce((s,t)=>s+t.amount,0);const expense=transactions.filter(t=>t.type==='expense').reduce((s,t)=>s+t.amount,0);// 年度ごとの収支計算\nconst getYearlyBalance=targetYear=>{const yearlyTransactions=transactions.filter(t=>{const txDate=new Date(t.date);const txYear=txDate.getFullYear();const txMonth=txDate.getMonth()+1;// 年度計算：4月-12月はtargetYear、1月-3月はtargetYear+1\n// 2026年度 = 2026年4月-2026年12月 + 2027年1月-2027年3月\nif(txMonth>=4){return txYear===targetYear;}else{return txYear===targetYear+1;}});const yearlyIncome=yearlyTransactions.filter(t=>t.type==='income').reduce((s,t)=>s+t.amount,0);const yearlyExpense=yearlyTransactions.filter(t=>t.type==='expense').reduce((s,t)=>s+t.amount,0);const yearlyBalance=yearlyIncome-yearlyExpense;return{income:yearlyIncome,expense:yearlyExpense,balance:yearlyBalance,count:yearlyTransactions.length};};const currentYearlyData=getYearlyBalance(homeYear);// カレンダー関連のヘルパー関数（標準カレンダー）\nconst getDaysInMonth=(year,month)=>{// 標準的な月の日数計算（1月=1, 2月=2, ..., 12月=12）\nreturn new Date(year,month,0).getDate();};const getFirstDayOfMonth=(year,month)=>{// その月の1日の曜日を取得（0=日曜日, 1=月曜日...）\nreturn new Date(year,month-1,1).getDay();};const getTransactionsForDate=date=>{return transactions.filter(t=>t.date===date&&t.cat!=='部費');};const handleDateClick=date=>{const dayTransactions=getTransactionsForDate(date);if(dayTransactions.length>0){setSelectedDate({date,transactions:dayTransactions});setShowCalendarDetail(true);}};const renderCalendar=()=>{const daysInMonth=getDaysInMonth(calendarYear,calendarMonth);const firstDay=getFirstDayOfMonth(calendarYear,calendarMonth);const days=[];// 空白セルを追加\nfor(let i=0;i<firstDay;i++){days.push(/*#__PURE__*/_jsx(\"div\",{className:\"border border-gray-200 p-2 min-h-[80px] bg-gray-50\"},\"empty-\".concat(i)));}// 日付セルを追加\nfor(let day=1;day<=daysInMonth;day++){const date=\"\".concat(calendarYear,\"-\").concat(String(calendarMonth).padStart(2,'0'),\"-\").concat(String(day).padStart(2,'0'));const dayTransactions=getTransactionsForDate(date);const hasTransactions=dayTransactions.length>0;// 今日の日付判定\nconst today=new Date();const isToday=day===today.getDate()&&calendarMonth===today.getMonth()+1&&calendarYear===today.getFullYear();days.push(/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 p-2 min-h-[80px] \".concat(hasTransactions?'cursor-pointer hover:bg-cyan-50':'bg-white',\" \").concat(isToday?'bg-cyan-100':''),onClick:()=>hasTransactions&&handleDateClick(date),children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-sm mb-1\",children:day}),hasTransactions&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[dayTransactions.slice(0,2).map((tx,idx)=>/*#__PURE__*/_jsx(\"div\",{className:\"text-xs p-1 rounded \".concat(tx.type==='income'?'bg-green-100 text-green-800':'bg-red-100 text-red-800'),children:tx.cat},idx)),dayTransactions.length>2&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"+\",dayTransactions.length-2]})]})]},day));}return days;};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-cyan-50 to-teal-100 p-2 sm:p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4 sm:mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl sm:text-4xl font-bold text-cyan-900\",children:\"\\u90E8\\u8CBB\\u7BA1\\u7406\\u30B7\\u30B9\\u30C6\\u30E0\"}),!isAdmin?/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowLogin(true),className:\"flex items-center gap-2 bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-700 font-medium\",children:[/*#__PURE__*/_jsx(LogIn,{size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:\"\\u7BA1\\u7406\\u8005\\u30ED\\u30B0\\u30A4\\u30F3\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:currentUser===null||currentUser===void 0?void 0:currentUser.name}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAdminManagement(true),className:\"flex items-center gap-1 bg-purple-600 text-white px-3 py-1 rounded-lg hover:bg-purple-700 text-sm\",children:[/*#__PURE__*/_jsx(Shield,{size:16}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:\"\\u6A29\\u9650\\u7BA1\\u7406\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowPasswordChange(true),className:\"flex items-center gap-1 bg-blue-600 text-white px-3 py-1 rounded-lg hover:bg-blue-700 text-sm\",children:[/*#__PURE__*/_jsx(Lock,{size:16}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:\"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u5909\\u66F4\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"text-sm text-gray-600 hover:text-gray-800 px-3 py-1 hover:bg-white/50 rounded\",children:\"\\u30ED\\u30B0\\u30A2\\u30A6\\u30C8\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-md mb-6 rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap\",children:[{n:'home',i:/*#__PURE__*/_jsx(Home,{size:20}),l:'ホーム'},{n:'calendar',i:/*#__PURE__*/_jsx(CalendarDays,{size:20}),l:'カレンダー'},{n:'payments',i:/*#__PURE__*/_jsx(Calendar,{size:20}),l:'支払い管理'},{n:'members',i:/*#__PURE__*/_jsx(Users,{size:20}),l:'メンバー'},{n:'transactions',i:/*#__PURE__*/_jsx(Receipt,{size:20}),l:'収支'}].map(p=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setPage(p.n),className:\"flex-1 py-4 px-4 font-medium flex items-center justify-center gap-2 \".concat(page===p.n?'bg-cyan-600 text-white':'text-gray-600 hover:bg-gray-100'),children:[p.i,/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:p.l})]},p.n))})}),page==='home'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl sm:text-2xl font-bold text-gray-800\",children:\"\\u5E74\\u5EA6\\u5225\\u53CE\\u652F\\u72B6\\u6CC1\"}),/*#__PURE__*/_jsx(\"select\",{value:homeYear,onChange:e=>setHomeYear(parseInt(e.target.value)),className:\"px-4 py-2 border border-gray-300 rounded-lg\",children:[2024,2025,2026,2027,2028,2029,2030].map(y=>/*#__PURE__*/_jsxs(\"option\",{value:y,children:[y,\"\\u5E74\\u5EA6\"]},y))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-sm\",children:[homeYear,\"\\u5E74\\u5EA6 \\u7DCF\\u53CE\\u652F\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold \".concat(currentYearlyData.balance>=0?'text-green-600':'text-red-600'),children:[\"\\xA5\",currentYearlyData.balance.toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[currentYearlyData.count,\"\\u4EF6\\u306E\\u53D6\\u5F15\"]})]}),/*#__PURE__*/_jsx(DollarSign,{className:\"text-cyan-400\",size:40})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-sm\",children:[homeYear,\"\\u5E74\\u5EA6 \\u7DCF\\u53CE\\u5165\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-teal-600\",children:[\"\\xA5\",currentYearlyData.income.toLocaleString()]})]}),/*#__PURE__*/_jsx(TrendingUp,{className:\"text-teal-400\",size:40})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-sm\",children:[homeYear,\"\\u5E74\\u5EA6 \\u7DCF\\u652F\\u51FA\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-red-600\",children:[\"\\xA5\",currentYearlyData.expense.toLocaleString()]})]}),/*#__PURE__*/_jsx(TrendingDown,{className:\"text-red-400\",size:40})]})})]})]}),page==='calendar'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-4 sm:p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl sm:text-2xl font-bold text-gray-800\",children:\"\\u53CE\\u652F\\u30AB\\u30EC\\u30F3\\u30C0\\u30FC\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"select\",{value:calendarYear,onChange:e=>setCalendarYear(parseInt(e.target.value)),className:\"px-4 py-2 border border-gray-300 rounded-lg\",children:[2024,2025,2026,2027,2028].map(y=>/*#__PURE__*/_jsxs(\"option\",{value:y,children:[y,\"\\u5E74\"]},y))}),/*#__PURE__*/_jsx(\"select\",{value:calendarMonth,onChange:e=>setCalendarMonth(parseInt(e.target.value)),className:\"px-4 py-2 border border-gray-300 rounded-lg\",children:months.map((m,i)=>/*#__PURE__*/_jsx(\"option\",{value:i+1,children:m},i))})]})]}),!isAdmin&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm text-yellow-800\",children:\"\\u95B2\\u89A7\\u30E2\\u30FC\\u30C9\\uFF1A\\u7DE8\\u96C6\\u3059\\u308B\\u306B\\u306F\\u7BA1\\u7406\\u8005\\u30ED\\u30B0\\u30A4\\u30F3\\u304C\\u5FC5\\u8981\\u3067\\u3059\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-7 gap-0 border border-gray-300\",children:['日','月','火','水','木','金','土'].map(day=>/*#__PURE__*/_jsx(\"div\",{className:\"border-r border-gray-300 last:border-r-0 p-2 bg-gray-100 text-center font-bold text-sm\",children:day},day))}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-7 gap-0 border border-t-0 border-gray-300\",children:renderCalendar()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-green-100 border border-green-300 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u53CE\\u5165\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-red-100 border border-red-300 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u652F\\u51FA\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-cyan-100 border border-cyan-300 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u4ECA\\u65E5\"})]})]})]}),page==='payments'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-4 sm:p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl sm:text-2xl font-bold text-gray-800\",children:[\"\\u6708\\u5225\\u652F\\u6255\\u3044\\u72B6\\u6CC1\\uFF08\\u6708\\u984D\\xA5\",MONTHLY_FEE.toLocaleString(),\"\\uFF09\"]}),/*#__PURE__*/_jsx(\"select\",{value:year,onChange:e=>setYear(parseInt(e.target.value)),className:\"px-4 py-2 border border-gray-300 rounded-lg\",children:[2024,2025,2026,2027,2028].map(y=>/*#__PURE__*/_jsxs(\"option\",{value:y,children:[y,\"\\u5E74\\u5EA6\"]},y))})]}),!isAdmin&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm text-yellow-800\",children:\"\\u95B2\\u89A7\\u30E2\\u30FC\\u30C9\\uFF1A\\u7DE8\\u96C6\\u3059\\u308B\\u306B\\u306F\\u7BA1\\u7406\\u8005\\u30ED\\u30B0\\u30A4\\u30F3\\u304C\\u5FC5\\u8981\\u3067\\u3059\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse min-w-max\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-cyan-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 px-2 sm:px-4 py-3 text-left font-bold text-gray-800 sticky left-0 bg-cyan-100 z-10\",children:\"\\u30E1\\u30F3\\u30D0\\u30FC\"}),months.map((m,i)=>/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 px-2 sm:px-3 py-3 text-center font-bold text-gray-800 min-w-[50px] sm:min-w-[60px]\",children:m},i))]})}),/*#__PURE__*/_jsx(\"tbody\",{children:members.map(mem=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 px-2 sm:px-4 py-3 font-medium text-gray-800 sticky left-0 bg-white z-10\",children:mem.name}),months.map((_,i)=>{const isPaid=!!payments[\"\".concat(mem.id,\"-\").concat(year,\"-\").concat(i+1)];return/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 px-2 sm:px-3 py-3 text-center \".concat(isAdmin?'cursor-pointer hover:bg-cyan-50':''),onClick:()=>handlePayClick(mem.id,year,i+1),children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xl sm:text-2xl font-bold \".concat(isPaid?'text-teal-600':'text-red-500'),children:isPaid?'◯':'✕'})},i);})]},mem.id))})]})})]}),page==='members'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-4 sm:p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(Users,{className:\"text-cyan-600 mr-2\",size:24}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl sm:text-2xl font-bold text-gray-800\",children:\"\\u30E1\\u30F3\\u30D0\\u30FC\\u7BA1\\u7406\"})]}),!isAdmin&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm text-yellow-800\",children:\"\\u95B2\\u89A7\\u30E2\\u30FC\\u30C9\\uFF1A\\u7DE8\\u96C6\\u3059\\u308B\\u306B\\u306F\\u7BA1\\u7406\\u8005\\u30ED\\u30B0\\u30A4\\u30F3\\u304C\\u5FC5\\u8981\\u3067\\u3059\"}),isAdmin&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-gray-50 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newName,onChange:e=>setNewName(e.target.value),onKeyPress:e=>e.key==='Enter'&&addMember(),placeholder:\"\\u30E1\\u30F3\\u30D0\\u30FC\\u540D\",className:\"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:addMember,className:\"bg-cyan-600 text-white px-6 py-3 rounded-lg hover:bg-cyan-700 flex items-center gap-2 font-medium\",children:[/*#__PURE__*/_jsx(Plus,{size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:\"\\u8FFD\\u52A0\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:members.map(m=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-base sm:text-lg font-medium text-gray-800\",children:m.name}),m.isAdmin&&/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1 bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium\",children:[/*#__PURE__*/_jsx(Shield,{size:12}),\"\\u7BA1\\u7406\\u8005\"]})]}),isAdmin&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleAdminRights(m.id),className:\"flex items-center gap-1 px-3 py-2 rounded-lg text-sm font-medium \".concat(m.isAdmin?'bg-orange-100 text-orange-700 hover:bg-orange-200':'bg-green-100 text-green-700 hover:bg-green-200'),disabled:m.id===(currentUser===null||currentUser===void 0?void 0:currentUser.id),title:m.id===(currentUser===null||currentUser===void 0?void 0:currentUser.id)?'自分自身の権限は変更できません':'',children:[m.isAdmin?/*#__PURE__*/_jsx(UserX,{size:16}):/*#__PURE__*/_jsx(UserCheck,{size:16}),m.isAdmin?'剥奪':'付与']}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>delMember(m.id),className:\"text-red-500 hover:text-red-700 p-2 hover:bg-red-50 rounded\",children:/*#__PURE__*/_jsx(Trash2,{size:20})})]})]},m.id))})]}),page==='transactions'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-4 sm:p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl sm:text-2xl font-bold text-gray-800 mb-6\",children:\"\\u53CE\\u652F\\u7BA1\\u7406\"}),!isAdmin&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm text-yellow-800\",children:\"\\u95B2\\u89A7\\u30E2\\u30FC\\u30C9\\uFF1A\\u7DE8\\u96C6\\u3059\\u308B\\u306B\\u306F\\u7BA1\\u7406\\u8005\\u30ED\\u30B0\\u30A4\\u30F3\\u304C\\u5FC5\\u8981\\u3067\\u3059\"}),isAdmin&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 sm:p-6 bg-gray-50 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNewTx(_objectSpread(_objectSpread({},newTx),{},{type:'income'})),className:\"flex-1 py-3 rounded-lg font-medium \".concat(newTx.type==='income'?'bg-teal-600 text-white':'bg-gray-200 text-gray-700'),children:\"\\u53CE\\u5165\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNewTx(_objectSpread(_objectSpread({},newTx),{},{type:'expense'})),className:\"flex-1 py-3 rounded-lg font-medium \".concat(newTx.type==='expense'?'bg-red-600 text-white':'bg-gray-200 text-gray-700'),children:\"\\u652F\\u51FA\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newTx.amount,onChange:e=>setNewTx(_objectSpread(_objectSpread({},newTx),{},{amount:e.target.value})),placeholder:\"\\u91D1\\u984D\",className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newTx.category,onChange:e=>setNewTx(_objectSpread(_objectSpread({},newTx),{},{category:e.target.value})),placeholder:\"\\u30AB\\u30C6\\u30B4\\u30EA\",className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newTx.description,onChange:e=>setNewTx(_objectSpread(_objectSpread({},newTx),{},{description:e.target.value})),placeholder:\"\\u8AAC\\u660E\",className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:newTx.date,onChange:e=>setNewTx(_objectSpread(_objectSpread({},newTx),{},{date:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addTx,className:\"w-full bg-cyan-600 text-white py-3 rounded-lg hover:bg-cyan-700 font-medium\",children:\"\\u8A18\\u9332\\u3092\\u8FFD\\u52A0\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3 max-h-96 overflow-y-auto\",children:transactions.filter(t=>t.cat!=='部費').map(t=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 sm:p-4 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-1\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold \".concat(t.type==='income'?'text-teal-600':'text-red-600'),children:[t.type==='income'?'+':'-',\"\\xA5\",t.amount.toLocaleString()]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-cyan-100 text-cyan-800 px-2 py-1 rounded\",children:t.cat})]}),t.desc&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 mb-1\",children:t.desc}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:new Date(t.date).toLocaleDateString('ja-JP')})]}),isAdmin&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>delTx(t.id),className:\"text-red-500 hover:text-red-700 p-2\",children:/*#__PURE__*/_jsx(Trash2,{size:18})})]},t.id))})]}),showCalendarDetail&&selectedDate&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6 max-w-md w-full max-h-[80vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold text-gray-800\",children:[new Date(selectedDate.date).toLocaleDateString('ja-JP',{year:'numeric',month:'long',day:'numeric'}),\"\\u306E\\u53D6\\u5F15\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowCalendarDetail(false);setSelectedDate(null);},className:\"text-gray-500\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[selectedDate.transactions.map(tx=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold \".concat(tx.type==='income'?'text-green-600':'text-red-600'),children:[tx.type==='income'?'+':'-',\"\\xA5\",tx.amount.toLocaleString()]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-2 py-1 rounded \".concat(tx.type==='income'?'bg-green-100 text-green-800':'bg-red-100 text-red-800'),children:tx.type==='income'?'収入':'支出'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 space-y-1\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\u30AB\\u30C6\\u30B4\\u30EA:\"}),\" \",tx.cat]}),tx.desc&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\u8AAC\\u660E:\"}),\" \",tx.desc]})]})]},tx.id)),selectedDate.transactions.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-gray-500 py-8\",children:\"\\u3053\\u306E\\u65E5\\u306E\\u53D6\\u5F15\\u306F\\u3042\\u308A\\u307E\\u305B\\u3093\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 pt-4 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"\\u5408\\u8A08:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xl font-bold \".concat(selectedDate.transactions.reduce((sum,tx)=>sum+(tx.type==='income'?tx.amount:-tx.amount),0)>=0?'text-green-600':'text-red-600'),children:[selectedDate.transactions.reduce((sum,tx)=>sum+(tx.type==='income'?tx.amount:-tx.amount),0)>=0?'+':'',\"\\xA5\",selectedDate.transactions.reduce((sum,tx)=>sum+(tx.type==='income'?tx.amount:-tx.amount),0).toLocaleString()]})]})})]})}),showLogin&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-8 max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Lock,{className:\"text-cyan-600 mr-2\",size:32}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-cyan-900\",children:\"\\u7BA1\\u7406\\u8005\\u30ED\\u30B0\\u30A4\\u30F3\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowLogin(false);setPwd('');},className:\"text-gray-500\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:pwd,onChange:e=>setPwd(e.target.value),onKeyPress:e=>e.key==='Enter'&&login(),placeholder:\"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\",className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 mb-4\"}),/*#__PURE__*/_jsx(\"button\",{onClick:login,className:\"w-full bg-cyan-600 text-white py-3 rounded-lg hover:bg-cyan-700 font-medium\",children:\"\\u30ED\\u30B0\\u30A4\\u30F3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-4 text-center\",children:\"\\u521D\\u671F\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9: club2025\"})]})}),showPay&&selPay&&isAdmin&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6 max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold text-gray-800\",children:[selPay.name,\" - \",selPay.y,\"\\u5E74\\u5EA6\",months[selPay.m-1]]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowPay(false);setSelPay(null);},className:\"text-gray-500\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),selPay.existing&&!editing?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4 space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u652F\\u6255\\u65E5:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:new Date(selPay.existing.date).toLocaleDateString('ja-JP')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u8A18\\u9332\\u8005:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:selPay.existing.by})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u91D1\\u984D:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-teal-600\",children:[\"\\xA5\",MONTHLY_FEE.toLocaleString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setEditing(true),className:\"flex-1 bg-cyan-600 text-white py-3 rounded-lg hover:bg-cyan-700 font-medium flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(Edit,{size:18}),\"\\u7DE8\\u96C6\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:delPay,className:\"flex-1 bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 font-medium flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(Trash2,{size:18}),\"\\u524A\\u9664\"]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u652F\\u6255\\u65E5\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:payDate,onChange:e=>setPayDate(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(selPay.existing){setEditing(false);}else{setShowPay(false);setSelPay(null);}},className:\"flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-400 font-medium\",children:\"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"}),/*#__PURE__*/_jsx(\"button\",{onClick:savePay,className:\"flex-1 bg-cyan-600 text-white py-3 rounded-lg hover:bg-cyan-700 font-medium\",children:\"\\u4FDD\\u5B58\"})]})]})]})}),showAdminManagement&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Shield,{className:\"text-purple-600 mr-2\",size:28}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800\",children:\"\\u7BA1\\u7406\\u8005\\u6A29\\u9650\\u7BA1\\u7406\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAdminManagement(false),className:\"text-gray-500\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-800\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\u73FE\\u5728\\u306E\\u7BA1\\u7406\\u8005:\"}),\" \",currentUser===null||currentUser===void 0?void 0:currentUser.name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-600 mt-1\",children:\"\\u81EA\\u5206\\u81EA\\u8EAB\\u306E\\u7BA1\\u7406\\u8005\\u6A29\\u9650\\u306F\\u5265\\u596A\\u3067\\u304D\\u307E\\u305B\\u3093\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-3\",children:\"\\u30E1\\u30F3\\u30D0\\u30FC\\u4E00\\u89A7\"}),members.map(m=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-base font-medium text-gray-800\",children:m.name}),m.isAdmin&&/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1 bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium\",children:[/*#__PURE__*/_jsx(Shield,{size:12}),\"\\u7BA1\\u7406\\u8005\"]}),m.id===(currentUser===null||currentUser===void 0?void 0:currentUser.id)&&/*#__PURE__*/_jsx(\"span\",{className:\"bg-gray-200 text-gray-600 px-2 py-1 rounded-full text-xs font-medium\",children:\"\\u3042\\u306A\\u305F\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleAdminRights(m.id),className:\"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium \".concat(m.isAdmin?'bg-orange-100 text-orange-700 hover:bg-orange-200':'bg-green-100 text-green-700 hover:bg-green-200'),disabled:m.id===(currentUser===null||currentUser===void 0?void 0:currentUser.id),children:[m.isAdmin?/*#__PURE__*/_jsx(UserX,{size:16}):/*#__PURE__*/_jsx(UserCheck,{size:16}),m.isAdmin?'管理者権限を剥奪':'管理者権限を付与']})]},m.id)),members.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-gray-500 py-8\",children:\"\\u30E1\\u30F3\\u30D0\\u30FC\\u304C\\u767B\\u9332\\u3055\\u308C\\u3066\\u3044\\u307E\\u305B\\u3093\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 pt-4 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"\\u7BA1\\u7406\\u8005\\u6570: \",members.filter(m=>m.isAdmin).length,\" / \",members.length,\"\\u4EBA\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAdminManagement(false),className:\"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 font-medium\",children:\"\\u9589\\u3058\\u308B\"})]})})]})}),showPasswordChange&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6 max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Lock,{className:\"text-blue-600 mr-2\",size:28}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800\",children:isFirstLogin?'初期パスワード変更':'パスワード変更'})]}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelPasswordChange,className:\"text-gray-500\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),isFirstLogin&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-800\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\u30BB\\u30AD\\u30E5\\u30EA\\u30C6\\u30A3\\u306E\\u305F\\u3081\\u3001\\u521D\\u671F\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u306E\\u5909\\u66F4\\u304C\\u5FC5\\u8981\\u3067\\u3059\\u3002\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-yellow-600 mt-1\",children:\"\\u5909\\u66F4\\u3057\\u306A\\u3044\\u5834\\u5408\\u306F\\u30ED\\u30B0\\u30A2\\u30A6\\u30C8\\u3057\\u307E\\u3059\\u3002\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u65B0\\u3057\\u3044\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:newPassword,onChange:e=>setNewPassword(e.target.value),placeholder:\"4\\u6587\\u5B57\\u4EE5\\u4E0A\\u3067\\u5165\\u529B\",className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",minLength:4})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u78BA\\u8A8D\\u7528\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),placeholder:\"\\u518D\\u5EA6\\u5165\\u529B\",className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 space-y-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:changePassword,className:\"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 font-medium\",children:\"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u3092\\u5909\\u66F4\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelPasswordChange,className:\"w-full py-3 rounded-lg font-medium \".concat(isFirstLogin?'bg-gray-300 text-gray-700 hover:bg-gray-400':'bg-gray-200 text-gray-600 hover:bg-gray-300'),children:isFirstLogin?'ログアウト':'キャンセル'})]})]})})]})});}","map":{"version":3,"names":["React","useState","useEffect","Plus","Trash2","Users","DollarSign","TrendingUp","TrendingDown","Calendar","Receipt","Home","Lock","X","Edit","LogIn","CalendarDays","Shield","UserCheck","UserX","jsx","_jsx","jsxs","_jsxs","MONTHLY_FEE","storage","get","key","data","localStorage","getItem","JSON","parse","e","set","value","setItem","stringify","ClubBudgetManager","isAdmin","setIsAdmin","showLogin","setShowLogin","pwd","setPwd","page","setPage","members","setMembers","transactions","setTransactions","payments","setPayments","newName","setNewName","newTx","setNewTx","type","amount","category","description","date","now","Date","jstYear","getFullYear","jstMonth","String","getMonth","padStart","jstDay","getDate","concat","year","setYear","homeYear","setHomeYear","month","showPay","setShowPay","selPay","setSelPay","payDate","setPayDate","editing","setEditing","calendarYear","setCalendarYear","calendarMonth","setCalendarMonth","selectedDate","setSelectedDate","showCalendarDetail","setShowCalendarDetail","showAdminManagement","setShowAdminManagement","currentUser","setCurrentUser","showPasswordChange","setShowPasswordChange","newPassword","setNewPassword","confirmPassword","setConfirmPassword","isFirstLogin","setIsFirstLogin","months","m","t","p","login","member","find","id","name","currentPwd","alert","addMember","trim","updated","delMember","filter","toggleAdminRights","memberId","map","_objectSpread","targetMember","logout","changePassword","length","cancelPasswordChange","handlePayClick","mid","y","pay","mem","existing","split","savePay","newPay","toISOString","by","at","exists","cat","newTxs","desc","delPay","window","confirm","addTx","tx","parseFloat","delTx","balance","reduce","s","income","expense","getYearlyBalance","targetYear","yearlyTransactions","txDate","txYear","txMonth","yearlyIncome","yearlyExpense","yearlyBalance","count","currentYearlyData","getDaysInMonth","getFirstDayOfMonth","getDay","getTransactionsForDate","handleDateClick","dayTransactions","renderCalendar","daysInMonth","firstDay","days","i","push","className","day","hasTransactions","today","isToday","onClick","children","slice","idx","size","n","l","onChange","parseInt","target","toLocaleString","_","isPaid","onKeyPress","placeholder","disabled","title","toLocaleDateString","sum","minLength"],"sources":["C:/Users/naoki/OneDrive/デスクトップ/budget_web_app/src/club_budget_web_app.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Plus, Trash2, Users, DollarSign, TrendingUp, TrendingDown, Calendar, Receipt, Home, Lock, X, Edit, LogIn, CalendarDays, Shield, UserCheck, UserX } from 'lucide-react';\n\nconst MONTHLY_FEE = 5000;\n\nconst storage = {\n  get: (key) => {\n    try {\n      const data = localStorage.getItem(key);\n      return data ? JSON.parse(data) : null;\n    } catch (e) {\n      return null;\n    }\n  },\n  set: (key, value) => {\n    try {\n      localStorage.setItem(key, JSON.stringify(value));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n};\n\nexport default function ClubBudgetManager() {\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [showLogin, setShowLogin] = useState(false);\n  const [pwd, setPwd] = useState('');\n  const [page, setPage] = useState('home');\n  const [members, setMembers] = useState([]);\n  const [transactions, setTransactions] = useState([]);\n  const [payments, setPayments] = useState({});\n  const [newName, setNewName] = useState('');\n  const [newTx, setNewTx] = useState({ type: 'expense', amount: '', category: '', description: '', date: (() => {\n    const now = new Date();\n    // 日本時間の年月日を取得\n    const jstYear = now.getFullYear();\n    const jstMonth = String(now.getMonth() + 1).padStart(2, '0');\n    const jstDay = String(now.getDate()).padStart(2, '0');\n    return `${jstYear}-${jstMonth}-${jstDay}`;\n  })() });\n  const [year, setYear] = useState(new Date().getFullYear());\n  const [homeYear, setHomeYear] = useState(() => {\n    const now = new Date();\n    const month = now.getMonth() + 1;\n    // 4月-12月は当年、1月-3月は前年を年度として返す\n    return month >= 4 ? now.getFullYear() : now.getFullYear() - 1;\n  });\n  const [showPay, setShowPay] = useState(false);\n  const [selPay, setSelPay] = useState(null);\n  const [payDate, setPayDate] = useState(() => {\n    const now = new Date();\n    // 日本時間の年月日を取得\n    const jstYear = now.getFullYear();\n    const jstMonth = String(now.getMonth() + 1).padStart(2, '0');\n    const jstDay = String(now.getDate()).padStart(2, '0');\n    return `${jstYear}-${jstMonth}-${jstDay}`;\n  });\n  const [editing, setEditing] = useState(false);\n  const [calendarYear, setCalendarYear] = useState(new Date().getFullYear());\n  const [calendarMonth, setCalendarMonth] = useState(new Date().getMonth() + 1);\n  const [selectedDate, setSelectedDate] = useState(null);\n  const [showCalendarDetail, setShowCalendarDetail] = useState(false);\n  const [showAdminManagement, setShowAdminManagement] = useState(false);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [showPasswordChange, setShowPasswordChange] = useState(false);\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [isFirstLogin, setIsFirstLogin] = useState(false);\n\n  const months = ['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月'];\n\n  useEffect(() => {\n    const m = storage.get('members');\n    const t = storage.get('transactions');\n    const p = storage.get('payments');\n    if (m) setMembers(m);\n    if (t) setTransactions(t);\n    if (p) setPayments(p);\n  }, []);\n\n  const login = () => {\n    if (pwd === (storage.get('pwd') || 'club2025')) {\n      const member = members.find(m => m.isAdmin);\n      setCurrentUser(member || { id: 'admin', name: '管理者', isAdmin: true });\n      setIsAdmin(true);\n      setShowLogin(false);\n      setPwd('');\n      \n      // 初回ログイン判定（初期パスワードの場合）\n      const currentPwd = storage.get('pwd');\n      if (!currentPwd || pwd === 'club2025') {\n        setIsFirstLogin(true);\n        setShowPasswordChange(true);\n      }\n    } else {\n      alert('パスワードが違います');\n    }\n  };\n\n  const addMember = () => {\n    if (!isAdmin) return;\n    if (!newName.trim()) return;\n    const updated = [...members, { id: Date.now(), name: newName, isAdmin: false }];\n    setMembers(updated);\n    storage.set('members', updated);\n    setNewName('');\n  };\n\n  const delMember = (id) => {\n    if (!isAdmin) return;\n    const updated = members.filter(m => m.id !== id);\n    setMembers(updated);\n    storage.set('members', updated);\n  };\n\n  const toggleAdminRights = (memberId) => {\n    if (!isAdmin || !currentUser) return;\n    \n    // 自分自身の権限は剥奪できない\n    if (memberId === currentUser.id) {\n      alert('自分自身の管理者権限は剥奪できません');\n      return;\n    }\n    \n    const updated = members.map(m => {\n      if (m.id === memberId) {\n        return { ...m, isAdmin: !m.isAdmin };\n      }\n      return m;\n    });\n    \n    setMembers(updated);\n    storage.set('members', updated);\n    \n    const targetMember = updated.find(m => m.id === memberId);\n    alert(`${targetMember.name}の管理者権限を${targetMember.isAdmin ? '付与' : '剥奪'}しました`);\n  };\n\n  const logout = () => {\n    setIsAdmin(false);\n    setCurrentUser(null);\n    setShowAdminManagement(false);\n    setShowPasswordChange(false);\n  };\n\n  const changePassword = () => {\n    if (!newPassword.trim()) {\n      alert('新しいパスワードを入力してください');\n      return;\n    }\n    \n    if (newPassword.length < 4) {\n      alert('パスワードは4文字以上で入力してください');\n      return;\n    }\n    \n    if (newPassword !== confirmPassword) {\n      alert('確認用パスワードが一致しません');\n      return;\n    }\n    \n    // パスワードを保存\n    storage.set('pwd', newPassword);\n    setNewPassword('');\n    setConfirmPassword('');\n    setShowPasswordChange(false);\n    setIsFirstLogin(false);\n    \n    alert('パスワードを変更しました');\n  };\n\n  const cancelPasswordChange = () => {\n    if (isFirstLogin) {\n      // 初回ログインの場合はログアウト\n      logout();\n    } else {\n      // それ以外の場合はキャンセル\n      setNewPassword('');\n      setConfirmPassword('');\n      setShowPasswordChange(false);\n    }\n  };\n\n  const handlePayClick = (mid, y, m) => {\n    if (!isAdmin) return;\n    const key = `${mid}-${y}-${m}`;\n    const pay = payments[key];\n    const mem = members.find(m => m.id === mid);\n    setSelPay({ mid, y, m, key, name: mem?.name, existing: pay });\n    // 新規支払いの場合は常に日本時間の当日、既存支払いの場合は保存された日付\n    if (pay) {\n      setPayDate(pay.date.split('T')[0]);\n    } else {\n      const now = new Date();\n      // 日本時間の年月日を取得\n      const jstYear = now.getFullYear();\n      const jstMonth = String(now.getMonth() + 1).padStart(2, '0');\n      const jstDay = String(now.getDate()).padStart(2, '0');\n      setPayDate(`${jstYear}-${jstMonth}-${jstDay}`);\n    }\n    setEditing(!pay);\n    setShowPay(true);\n  };\n\n  const savePay = () => {\n    if (!isAdmin || !selPay) return;\n    const { mid, y, m, key, name } = selPay;\n    const newPay = { ...payments, [key]: { mid, y, m, date: new Date(payDate).toISOString(), by: '管理者', at: new Date().toISOString() } };\n    setPayments(newPay);\n    storage.set('payments', newPay);\n\n    const exists = transactions.find(t => t.mid === mid && t.y === y && t.m === m && t.cat === '部費');\n    if (!exists) {\n      const newTxs = [{ id: Date.now(), type: 'income', amount: MONTHLY_FEE, cat: '部費', desc: `${name} - ${y}年度${months[m-1]}分`, date: payDate, mid, y, m }, ...transactions];\n      setTransactions(newTxs);\n      storage.set('transactions', newTxs);\n    }\n    setShowPay(false);\n    setSelPay(null);\n  };\n\n  const delPay = () => {\n    if (!isAdmin || !selPay || !window.confirm('削除しますか？')) return;\n    const { mid, y, m, key } = selPay;\n    const newPay = {...payments};\n    delete newPay[key];\n    setPayments(newPay);\n    storage.set('payments', newPay);\n\n    const newTxs = transactions.filter(t => !(t.mid === mid && t.y === y && t.m === m && t.cat === '部費'));\n    setTransactions(newTxs);\n    storage.set('transactions', newTxs);\n    setShowPay(false);\n    setSelPay(null);\n  };\n\n  const addTx = () => {\n    if (!isAdmin) return;\n    if (!newTx.amount || !newTx.category) {\n      alert('金額とカテゴリを入力してください');\n      return;\n    }\n    const tx = { id: Date.now(), type: newTx.type, amount: parseFloat(newTx.amount), cat: newTx.category, desc: newTx.description, date: newTx.date };\n    const updated = [tx, ...transactions];\n    setTransactions(updated);\n    storage.set('transactions', updated);\n    setNewTx({ type: 'expense', amount: '', category: '', description: '', date: new Date().toISOString().split('T')[0] });\n  };\n\n  const delTx = (id) => {\n    if (!isAdmin) return;\n    const tx = transactions.find(t => t.id === id);\n    if (tx && tx.cat === '部費') {\n      alert('部費は支払い管理画面から削除してください');\n      return;\n    }\n    const updated = transactions.filter(t => t.id !== id);\n    setTransactions(updated);\n    storage.set('transactions', updated);\n  };\n\n  const balance = transactions.reduce((s, t) => s + (t.type === 'income' ? t.amount : -t.amount), 0);\n  const income = transactions.filter(t => t.type === 'income').reduce((s, t) => s + t.amount, 0);\n  const expense = transactions.filter(t => t.type === 'expense').reduce((s, t) => s + t.amount, 0);\n\n  // 年度ごとの収支計算\n  const getYearlyBalance = (targetYear) => {\n    const yearlyTransactions = transactions.filter(t => {\n      const txDate = new Date(t.date);\n      const txYear = txDate.getFullYear();\n      const txMonth = txDate.getMonth() + 1;\n      \n      // 年度計算：4月-12月はtargetYear、1月-3月はtargetYear+1\n      // 2026年度 = 2026年4月-2026年12月 + 2027年1月-2027年3月\n      if (txMonth >= 4) {\n        return txYear === targetYear;\n      } else {\n        return txYear === targetYear + 1;\n      }\n    });\n    \n    const yearlyIncome = yearlyTransactions.filter(t => t.type === 'income').reduce((s, t) => s + t.amount, 0);\n    const yearlyExpense = yearlyTransactions.filter(t => t.type === 'expense').reduce((s, t) => s + t.amount, 0);\n    const yearlyBalance = yearlyIncome - yearlyExpense;\n    \n    return {\n      income: yearlyIncome,\n      expense: yearlyExpense,\n      balance: yearlyBalance,\n      count: yearlyTransactions.length\n    };\n  };\n  \n  const currentYearlyData = getYearlyBalance(homeYear);\n\n  // カレンダー関連のヘルパー関数（標準カレンダー）\n  const getDaysInMonth = (year, month) => {\n    // 標準的な月の日数計算（1月=1, 2月=2, ..., 12月=12）\n    return new Date(year, month, 0).getDate();\n  };\n\n  const getFirstDayOfMonth = (year, month) => {\n    // その月の1日の曜日を取得（0=日曜日, 1=月曜日...）\n    return new Date(year, month - 1, 1).getDay();\n  };\n\n  const getTransactionsForDate = (date) => {\n    return transactions.filter(t => t.date === date && t.cat !== '部費');\n  };\n\n  const handleDateClick = (date) => {\n    const dayTransactions = getTransactionsForDate(date);\n    if (dayTransactions.length > 0) {\n      setSelectedDate({ date, transactions: dayTransactions });\n      setShowCalendarDetail(true);\n    }\n  };\n\n  const renderCalendar = () => {\n    const daysInMonth = getDaysInMonth(calendarYear, calendarMonth);\n    const firstDay = getFirstDayOfMonth(calendarYear, calendarMonth);\n    const days = [];\n\n    // 空白セルを追加\n    for (let i = 0; i < firstDay; i++) {\n      days.push(<div key={`empty-${i}`} className=\"border border-gray-200 p-2 min-h-[80px] bg-gray-50\"></div>);\n    }\n\n    // 日付セルを追加\n    for (let day = 1; day <= daysInMonth; day++) {\n      const date = `${calendarYear}-${String(calendarMonth).padStart(2, '0')}-${String(day).padStart(2, '0')}`;\n      const dayTransactions = getTransactionsForDate(date);\n      const hasTransactions = dayTransactions.length > 0;\n\n      // 今日の日付判定\n      const today = new Date();\n      const isToday = day === today.getDate() && \n                     calendarMonth === today.getMonth() + 1 && \n                     calendarYear === today.getFullYear();\n\n      days.push(\n        <div \n          key={day} \n          className={`border border-gray-200 p-2 min-h-[80px] ${hasTransactions ? 'cursor-pointer hover:bg-cyan-50' : 'bg-white'} ${isToday ? 'bg-cyan-100' : ''}`}\n          onClick={() => hasTransactions && handleDateClick(date)}\n        >\n          <div className=\"font-medium text-sm mb-1\">{day}</div>\n          {hasTransactions && (\n            <div className=\"space-y-1\">\n              {dayTransactions.slice(0, 2).map((tx, idx) => (\n                <div key={idx} className={`text-xs p-1 rounded ${tx.type === 'income' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>\n                  {tx.cat}\n                </div>\n              ))}\n              {dayTransactions.length > 2 && (\n                <div className=\"text-xs text-gray-500\">+{dayTransactions.length - 2}</div>\n              )}\n            </div>\n          )}\n        </div>\n      );\n    }\n\n    return days;\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-cyan-50 to-teal-100 p-2 sm:p-4\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"flex items-center justify-between mb-4 sm:mb-6\">\n          <h1 className=\"text-2xl sm:text-4xl font-bold text-cyan-900\">部費管理システム</h1>\n          {!isAdmin ? (\n            <button onClick={() => setShowLogin(true)} className=\"flex items-center gap-2 bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-700 font-medium\">\n              <LogIn size={20}/>\n              <span className=\"hidden sm:inline\">管理者ログイン</span>\n            </button>\n          ) : (\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-sm text-gray-600\">{currentUser?.name}</span>\n              <button onClick={() => setShowAdminManagement(true)} className=\"flex items-center gap-1 bg-purple-600 text-white px-3 py-1 rounded-lg hover:bg-purple-700 text-sm\">\n                <Shield size={16}/>\n                <span className=\"hidden sm:inline\">権限管理</span>\n              </button>\n              <button onClick={() => setShowPasswordChange(true)} className=\"flex items-center gap-1 bg-blue-600 text-white px-3 py-1 rounded-lg hover:bg-blue-700 text-sm\">\n                <Lock size={16}/>\n                <span className=\"hidden sm:inline\">パスワード変更</span>\n              </button>\n              <button onClick={logout} className=\"text-sm text-gray-600 hover:text-gray-800 px-3 py-1 hover:bg-white/50 rounded\">ログアウト</button>\n            </div>\n          )}\n        </div>\n        \n        <div className=\"bg-white shadow-md mb-6 rounded-lg\">\n          <div className=\"flex flex-wrap\">\n            {[{n:'home',i:<Home size={20}/>,l:'ホーム'},{n:'calendar',i:<CalendarDays size={20}/>,l:'カレンダー'},{n:'payments',i:<Calendar size={20}/>,l:'支払い管理'},{n:'members',i:<Users size={20}/>,l:'メンバー'},{n:'transactions',i:<Receipt size={20}/>,l:'収支'}].map(p => (\n              <button key={p.n} onClick={() => setPage(p.n)} className={`flex-1 py-4 px-4 font-medium flex items-center justify-center gap-2 ${page === p.n ? 'bg-cyan-600 text-white' : 'text-gray-600 hover:bg-gray-100'}`}>{p.i}<span className=\"hidden sm:inline\">{p.l}</span></button>\n            ))}\n          </div>\n        </div>\n        \n        {page === 'home' && (\n          <div>\n            <div className=\"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-6\">\n              <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\">\n                <h2 className=\"text-xl sm:text-2xl font-bold text-gray-800\">年度別収支状況</h2>\n                <select value={homeYear} onChange={(e) => setHomeYear(parseInt(e.target.value))} className=\"px-4 py-2 border border-gray-300 rounded-lg\">\n                  {[2024,2025,2026,2027,2028,2029,2030].map(y => <option key={y} value={y}>{y}年度</option>)}\n                </select>\n              </div>\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-gray-600 text-sm\">{homeYear}年度 総収支</p>\n                    <p className={`text-3xl font-bold ${currentYearlyData.balance >= 0 ? 'text-green-600' : 'text-red-600'}`}>¥{currentYearlyData.balance.toLocaleString()}</p>\n                    <p className=\"text-xs text-gray-500 mt-1\">{currentYearlyData.count}件の取引</p>\n                  </div>\n                  <DollarSign className=\"text-cyan-400\" size={40}/>\n                </div>\n              </div>\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-gray-600 text-sm\">{homeYear}年度 総収入</p>\n                    <p className=\"text-3xl font-bold text-teal-600\">¥{currentYearlyData.income.toLocaleString()}</p>\n                  </div>\n                  <TrendingUp className=\"text-teal-400\" size={40}/>\n                </div>\n              </div>\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-gray-600 text-sm\">{homeYear}年度 総支出</p>\n                    <p className=\"text-3xl font-bold text-red-600\">¥{currentYearlyData.expense.toLocaleString()}</p>\n                  </div>\n                  <TrendingDown className=\"text-red-400\" size={40}/>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {page === 'calendar' && (\n          <div className=\"bg-white rounded-lg shadow-lg p-4 sm:p-6\">\n            <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4\">\n              <h2 className=\"text-xl sm:text-2xl font-bold text-gray-800\">収支カレンダー</h2>\n              <div className=\"flex gap-2\">\n                <select value={calendarYear} onChange={(e) => setCalendarYear(parseInt(e.target.value))} className=\"px-4 py-2 border border-gray-300 rounded-lg\">\n                  {[2024,2025,2026,2027,2028].map(y => <option key={y} value={y}>{y}年</option>)}\n                </select>\n                <select value={calendarMonth} onChange={(e) => setCalendarMonth(parseInt(e.target.value))} className=\"px-4 py-2 border border-gray-300 rounded-lg\">\n                  {months.map((m,i) => <option key={i} value={i+1}>{m}</option>)}\n                </select>\n              </div>\n            </div>\n            {!isAdmin && <div className=\"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm text-yellow-800\">閲覧モード：編集するには管理者ログインが必要です</div>}\n            \n            <div className=\"mb-4\">\n              <div className=\"grid grid-cols-7 gap-0 border border-gray-300\">\n                {['日','月','火','水','木','金','土'].map(day => (\n                  <div key={day} className=\"border-r border-gray-300 last:border-r-0 p-2 bg-gray-100 text-center font-bold text-sm\">\n                    {day}\n                  </div>\n                ))}\n              </div>\n              <div className=\"grid grid-cols-7 gap-0 border border-t-0 border-gray-300\">\n                {renderCalendar()}\n              </div>\n            </div>\n\n            <div className=\"flex gap-4 text-sm\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-4 h-4 bg-green-100 border border-green-300 rounded\"></div>\n                <span>収入</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-4 h-4 bg-red-100 border border-red-300 rounded\"></div>\n                <span>支出</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-4 h-4 bg-cyan-100 border border-cyan-300 rounded\"></div>\n                <span>今日</span>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {page === 'payments' && (\n          <div className=\"bg-white rounded-lg shadow-lg p-4 sm:p-6\">\n            <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4\">\n              <h2 className=\"text-xl sm:text-2xl font-bold text-gray-800\">月別支払い状況（月額¥{MONTHLY_FEE.toLocaleString()}）</h2>\n              <select value={year} onChange={(e) => setYear(parseInt(e.target.value))} className=\"px-4 py-2 border border-gray-300 rounded-lg\">\n                {[2024,2025,2026,2027,2028].map(y => <option key={y} value={y}>{y}年度</option>)}\n              </select>\n            </div>\n            {!isAdmin && <div className=\"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm text-yellow-800\">閲覧モード：編集するには管理者ログインが必要です</div>}\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full border-collapse min-w-max\">\n                <thead><tr className=\"bg-cyan-100\"><th className=\"border border-gray-300 px-2 sm:px-4 py-3 text-left font-bold text-gray-800 sticky left-0 bg-cyan-100 z-10\">メンバー</th>{months.map((m,i) => <th key={i} className=\"border border-gray-300 px-2 sm:px-3 py-3 text-center font-bold text-gray-800 min-w-[50px] sm:min-w-[60px]\">{m}</th>)}</tr></thead>\n                <tbody>{members.map(mem => <tr key={mem.id} className=\"hover:bg-gray-50\"><td className=\"border border-gray-300 px-2 sm:px-4 py-3 font-medium text-gray-800 sticky left-0 bg-white z-10\">{mem.name}</td>{months.map((_,i) => {const isPaid = !!payments[`${mem.id}-${year}-${i+1}`]; return <td key={i} className={`border border-gray-300 px-2 sm:px-3 py-3 text-center ${isAdmin ? 'cursor-pointer hover:bg-cyan-50' : ''}`} onClick={() => handlePayClick(mem.id,year,i+1)}><span className={`text-xl sm:text-2xl font-bold ${isPaid ? 'text-teal-600' : 'text-red-500'}`}>{isPaid ? '◯' : '✕'}</span></td>})}</tr>)}</tbody>\n              </table>\n            </div>\n          </div>\n        )}\n\n        {page === 'members' && (\n          <div className=\"bg-white rounded-lg shadow-lg p-4 sm:p-6\">\n            <div className=\"flex items-center mb-6\"><Users className=\"text-cyan-600 mr-2\" size={24}/><h2 className=\"text-xl sm:text-2xl font-bold text-gray-800\">メンバー管理</h2></div>\n            {!isAdmin && <div className=\"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm text-yellow-800\">閲覧モード：編集するには管理者ログインが必要です</div>}\n            {isAdmin && (\n              <div className=\"mb-6 p-4 bg-gray-50 rounded-lg\">\n                <div className=\"flex gap-2\">\n                  <input type=\"text\" value={newName} onChange={(e) => setNewName(e.target.value)} onKeyPress={(e) => e.key === 'Enter' && addMember()} placeholder=\"メンバー名\" className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500\"/>\n                  <button onClick={addMember} className=\"bg-cyan-600 text-white px-6 py-3 rounded-lg hover:bg-cyan-700 flex items-center gap-2 font-medium\"><Plus size={20}/><span className=\"hidden sm:inline\">追加</span></button>\n                </div>\n              </div>\n            )}\n            <div className=\"space-y-3\">\n              {members.map(m => (\n                <div key={m.id} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100\">\n                  <div className=\"flex items-center gap-3\">\n                    <span className=\"text-base sm:text-lg font-medium text-gray-800\">{m.name}</span>\n                    {m.isAdmin && (\n                      <span className=\"flex items-center gap-1 bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium\">\n                        <Shield size={12}/>\n                        管理者\n                      </span>\n                    )}\n                  </div>\n                  {isAdmin && (\n                    <div className=\"flex items-center gap-2\">\n                      <button \n                        onClick={() => toggleAdminRights(m.id)} \n                        className={`flex items-center gap-1 px-3 py-2 rounded-lg text-sm font-medium ${\n                          m.isAdmin \n                            ? 'bg-orange-100 text-orange-700 hover:bg-orange-200' \n                            : 'bg-green-100 text-green-700 hover:bg-green-200'\n                        }`}\n                        disabled={m.id === currentUser?.id}\n                        title={m.id === currentUser?.id ? '自分自身の権限は変更できません' : ''}\n                      >\n                        {m.isAdmin ? <UserX size={16}/> : <UserCheck size={16}/>}\n                        {m.isAdmin ? '剥奪' : '付与'}\n                      </button>\n                      <button onClick={() => delMember(m.id)} className=\"text-red-500 hover:text-red-700 p-2 hover:bg-red-50 rounded\">\n                        <Trash2 size={20}/>\n                      </button>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {page === 'transactions' && (\n          <div className=\"bg-white rounded-lg shadow-lg p-4 sm:p-6\">\n            <h2 className=\"text-xl sm:text-2xl font-bold text-gray-800 mb-6\">収支管理</h2>\n            {!isAdmin && <div className=\"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm text-yellow-800\">閲覧モード：編集するには管理者ログインが必要です</div>}\n            {isAdmin && (\n              <div className=\"mb-6 p-4 sm:p-6 bg-gray-50 rounded-lg\">\n                <div className=\"space-y-4\">\n                  <div className=\"flex gap-2\">\n                    <button onClick={() => setNewTx({...newTx,type:'income'})} className={`flex-1 py-3 rounded-lg font-medium ${newTx.type === 'income' ? 'bg-teal-600 text-white' : 'bg-gray-200 text-gray-700'}`}>収入</button>\n                    <button onClick={() => setNewTx({...newTx,type:'expense'})} className={`flex-1 py-3 rounded-lg font-medium ${newTx.type === 'expense' ? 'bg-red-600 text-white' : 'bg-gray-200 text-gray-700'}`}>支出</button>\n                  </div>\n                  <input type=\"number\" value={newTx.amount} onChange={(e) => setNewTx({...newTx,amount:e.target.value})} placeholder=\"金額\" className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500\"/>\n                  <input type=\"text\" value={newTx.category} onChange={(e) => setNewTx({...newTx,category:e.target.value})} placeholder=\"カテゴリ\" className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500\"/>\n                  <input type=\"text\" value={newTx.description} onChange={(e) => setNewTx({...newTx,description:e.target.value})} placeholder=\"説明\" className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500\"/>\n                  <input type=\"date\" value={newTx.date} onChange={(e) => setNewTx({...newTx,date:e.target.value})} className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500\"/>\n                  <button onClick={addTx} className=\"w-full bg-cyan-600 text-white py-3 rounded-lg hover:bg-cyan-700 font-medium\">記録を追加</button>\n                </div>\n              </div>\n            )}\n            <div className=\"space-y-3 max-h-96 overflow-y-auto\">{transactions.filter(t => t.cat !== '部費').map(t => <div key={t.id} className=\"flex items-center justify-between p-3 sm:p-4 bg-gray-50 rounded-lg\"><div className=\"flex-1\"><div className=\"flex items-center gap-2 mb-1\"><span className={`text-lg font-bold ${t.type === 'income' ? 'text-teal-600' : 'text-red-600'}`}>{t.type === 'income' ? '+' : '-'}¥{t.amount.toLocaleString()}</span><span className=\"text-xs bg-cyan-100 text-cyan-800 px-2 py-1 rounded\">{t.cat}</span></div>{t.desc && <p className=\"text-xs text-gray-600 mb-1\">{t.desc}</p>}<p className=\"text-xs text-gray-500\">{new Date(t.date).toLocaleDateString('ja-JP')}</p></div>{isAdmin && <button onClick={() => delTx(t.id)} className=\"text-red-500 hover:text-red-700 p-2\"><Trash2 size={18}/></button>}</div>)}</div>\n          </div>\n        )}\n\n        {showCalendarDetail && selectedDate && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg shadow-lg p-6 max-w-md w-full max-h-[80vh] overflow-y-auto\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-xl font-bold text-gray-800\">\n                  {new Date(selectedDate.date).toLocaleDateString('ja-JP', { year: 'numeric', month: 'long', day: 'numeric' })}の取引\n                </h2>\n                <button onClick={() => {setShowCalendarDetail(false); setSelectedDate(null);}} className=\"text-gray-500\">\n                  <X size={24}/>\n                </button>\n              </div>\n              <div className=\"space-y-3\">\n                {selectedDate.transactions.map(tx => (\n                  <div key={tx.id} className=\"p-4 bg-gray-50 rounded-lg\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <span className={`text-lg font-bold ${tx.type === 'income' ? 'text-green-600' : 'text-red-600'}`}>\n                        {tx.type === 'income' ? '+' : '-'}¥{tx.amount.toLocaleString()}\n                      </span>\n                      <span className={`text-xs px-2 py-1 rounded ${tx.type === 'income' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>\n                        {tx.type === 'income' ? '収入' : '支出'}\n                      </span>\n                    </div>\n                    <div className=\"text-sm text-gray-600 space-y-1\">\n                      <div><span className=\"font-medium\">カテゴリ:</span> {tx.cat}</div>\n                      {tx.desc && <div><span className=\"font-medium\">説明:</span> {tx.desc}</div>}\n                    </div>\n                  </div>\n                ))}\n                {selectedDate.transactions.length === 0 && (\n                  <div className=\"text-center text-gray-500 py-8\">\n                    この日の取引はありません\n                  </div>\n                )}\n              </div>\n              <div className=\"mt-6 pt-4 border-t border-gray-200\">\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"font-medium text-gray-700\">合計:</span>\n                  <span className={`text-xl font-bold ${selectedDate.transactions.reduce((sum, tx) => sum + (tx.type === 'income' ? tx.amount : -tx.amount), 0) >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                    {selectedDate.transactions.reduce((sum, tx) => sum + (tx.type === 'income' ? tx.amount : -tx.amount), 0) >= 0 ? '+' : ''}¥{selectedDate.transactions.reduce((sum, tx) => sum + (tx.type === 'income' ? tx.amount : -tx.amount), 0).toLocaleString()}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {showLogin && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg shadow-lg p-8 max-w-md w-full\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <div className=\"flex items-center\">\n                  <Lock className=\"text-cyan-600 mr-2\" size={32} />\n                  <h2 className=\"text-2xl font-bold text-cyan-900\">管理者ログイン</h2>\n                </div>\n                <button onClick={() => {setShowLogin(false); setPwd('');}} className=\"text-gray-500\"><X size={24}/></button>\n              </div>\n              <input type=\"password\" value={pwd} onChange={(e) => setPwd(e.target.value)} onKeyPress={(e) => e.key === 'Enter' && login()} placeholder=\"パスワード\" className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 mb-4\" />\n              <button onClick={login} className=\"w-full bg-cyan-600 text-white py-3 rounded-lg hover:bg-cyan-700 font-medium\">ログイン</button>\n              <p className=\"text-xs text-gray-500 mt-4 text-center\">初期パスワード: club2025</p>\n            </div>\n          </div>\n        )}\n\n        {showPay && selPay && isAdmin && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg shadow-lg p-6 max-w-md w-full\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-xl font-bold text-gray-800\">{selPay.name} - {selPay.y}年度{months[selPay.m-1]}</h2>\n                <button onClick={() => {setShowPay(false);setSelPay(null);}} className=\"text-gray-500\"><X size={24}/></button>\n              </div>\n              {selPay.existing && !editing ? (\n                <div className=\"space-y-4\">\n                  <div className=\"bg-gray-50 rounded-lg p-4 space-y-2\">\n                    <div className=\"flex justify-between\"><span className=\"text-gray-600\">支払日:</span><span className=\"font-medium\">{new Date(selPay.existing.date).toLocaleDateString('ja-JP')}</span></div>\n                    <div className=\"flex justify-between\"><span className=\"text-gray-600\">記録者:</span><span className=\"font-medium\">{selPay.existing.by}</span></div>\n                    <div className=\"flex justify-between\"><span className=\"text-gray-600\">金額:</span><span className=\"font-medium text-teal-600\">¥{MONTHLY_FEE.toLocaleString()}</span></div>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <button onClick={() => setEditing(true)} className=\"flex-1 bg-cyan-600 text-white py-3 rounded-lg hover:bg-cyan-700 font-medium flex items-center justify-center gap-2\"><Edit size={18}/>編集</button>\n                    <button onClick={delPay} className=\"flex-1 bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 font-medium flex items-center justify-center gap-2\"><Trash2 size={18}/>削除</button>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  <div><label className=\"block text-sm font-medium text-gray-700 mb-1\">支払日</label><input type=\"date\" value={payDate} onChange={(e) => setPayDate(e.target.value)} className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500\"/></div>\n                  <div className=\"flex gap-2\">\n                    <button onClick={() => {if(selPay.existing){setEditing(false);}else{setShowPay(false);setSelPay(null);}}} className=\"flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-400 font-medium\">キャンセル</button>\n                    <button onClick={savePay} className=\"flex-1 bg-cyan-600 text-white py-3 rounded-lg hover:bg-cyan-700 font-medium\">保存</button>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {showAdminManagement && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg shadow-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <div className=\"flex items-center\">\n                  <Shield className=\"text-purple-600 mr-2\" size={28} />\n                  <h2 className=\"text-2xl font-bold text-gray-800\">管理者権限管理</h2>\n                </div>\n                <button onClick={() => setShowAdminManagement(false)} className=\"text-gray-500\">\n                  <X size={24}/>\n                </button>\n              </div>\n              \n              <div className=\"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n                <p className=\"text-sm text-blue-800\">\n                  <span className=\"font-medium\">現在の管理者:</span> {currentUser?.name}\n                </p>\n                <p className=\"text-xs text-blue-600 mt-1\">自分自身の管理者権限は剥奪できません</p>\n              </div>\n\n              <div className=\"space-y-3\">\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-3\">メンバー一覧</h3>\n                {members.map(m => (\n                  <div key={m.id} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100\">\n                    <div className=\"flex items-center gap-3\">\n                      <span className=\"text-base font-medium text-gray-800\">{m.name}</span>\n                      {m.isAdmin && (\n                        <span className=\"flex items-center gap-1 bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium\">\n                          <Shield size={12}/>\n                          管理者\n                        </span>\n                      )}\n                      {m.id === currentUser?.id && (\n                        <span className=\"bg-gray-200 text-gray-600 px-2 py-1 rounded-full text-xs font-medium\">\n                          あなた\n                        </span>\n                      )}\n                    </div>\n                    <button \n                      onClick={() => toggleAdminRights(m.id)} \n                      className={`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium ${\n                        m.isAdmin \n                          ? 'bg-orange-100 text-orange-700 hover:bg-orange-200' \n                          : 'bg-green-100 text-green-700 hover:bg-green-200'\n                      }`}\n                      disabled={m.id === currentUser?.id}\n                    >\n                      {m.isAdmin ? <UserX size={16}/> : <UserCheck size={16}/>}\n                      {m.isAdmin ? '管理者権限を剥奪' : '管理者権限を付与'}\n                    </button>\n                  </div>\n                ))}\n                {members.length === 0 && (\n                  <div className=\"text-center text-gray-500 py-8\">\n                    メンバーが登録されていません\n                  </div>\n                )}\n              </div>\n\n              <div className=\"mt-6 pt-4 border-t border-gray-200\">\n                <div className=\"flex justify-between items-center\">\n                  <div className=\"text-sm text-gray-600\">\n                    管理者数: {members.filter(m => m.isAdmin).length} / {members.length}人\n                  </div>\n                  <button \n                    onClick={() => setShowAdminManagement(false)} \n                    className=\"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 font-medium\"\n                  >\n                    閉じる\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {showPasswordChange && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg shadow-lg p-6 max-w-md w-full\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <div className=\"flex items-center\">\n                  <Lock className=\"text-blue-600 mr-2\" size={28} />\n                  <h2 className=\"text-2xl font-bold text-gray-800\">\n                    {isFirstLogin ? '初期パスワード変更' : 'パスワード変更'}\n                  </h2>\n                </div>\n                <button onClick={cancelPasswordChange} className=\"text-gray-500\">\n                  <X size={24}/>\n                </button>\n              </div>\n              \n              {isFirstLogin && (\n                <div className=\"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\n                  <p className=\"text-sm text-yellow-800\">\n                    <span className=\"font-medium\">セキュリティのため、初期パスワードの変更が必要です。</span>\n                  </p>\n                  <p className=\"text-xs text-yellow-600 mt-1\">変更しない場合はログアウトします。</p>\n                </div>\n              )}\n\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">新しいパスワード</label>\n                  <input \n                    type=\"password\" \n                    value={newPassword} \n                    onChange={(e) => setNewPassword(e.target.value)} \n                    placeholder=\"4文字以上で入力\" \n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    minLength={4}\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">確認用パスワード</label>\n                  <input \n                    type=\"password\" \n                    value={confirmPassword} \n                    onChange={(e) => setConfirmPassword(e.target.value)} \n                    placeholder=\"再度入力\" \n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"mt-6 space-y-2\">\n                <button \n                  onClick={changePassword} \n                  className=\"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 font-medium\"\n                >\n                  パスワードを変更\n                </button>\n                <button \n                  onClick={cancelPasswordChange} \n                  className={`w-full py-3 rounded-lg font-medium ${\n                    isFirstLogin \n                      ? 'bg-gray-300 text-gray-700 hover:bg-gray-400' \n                      : 'bg-gray-200 text-gray-600 hover:bg-gray-300'\n                  }`}\n                >\n                  {isFirstLogin ? 'ログアウト' : 'キャンセル'}\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}